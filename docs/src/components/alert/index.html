<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex,nofollow">
    <title>Alert Component - Swage.CSS</title>
    <link rel="stylesheet" href="../../swage.css">
    <link rel="stylesheet" href="../../demo.css">
    <style>
        body {
            font-family: var(--font-family-sans);
            background-color: var(--color-background-default);
            padding: var(--spacing-32);
            color: var(--color-text-default);
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            gap: var(--spacing-32);
        }
        .component-section {
            background-color: var(--color-surface-default);
            border: 1px solid var(--color-gray-200);
            border-radius: var(--spacing-8);
            padding: var(--spacing-24);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        h1 {
            font-size: var(--font-size-3xl);
            font-weight: var(--font-weight-bold);
            margin-bottom: var(--spacing-24);
            color: var(--color-text-default);
        }
        h2 {
            font-size: var(--font-size-2xl);
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--spacing-20);
            color: var(--color-text-default);
        }
        h3 {
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--spacing-16);
            color: var(--color-text-default);
        }
        .alert-container {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-16);
        }
        .mb-24 { margin-bottom: var(--spacing-24); }
        .text-gray-600 { color: var(--color-gray-600); }
        .body-lg {
            font-size: var(--font-size-lg);
            line-height: var(--line-height-lg);
        }
        .button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-8) var(--spacing-16);
            border-radius: var(--spacing-6);
            font-size: var(--font-size-md);
            font-weight: var(--font-weight-semibold);
            text-decoration: none;
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
            border: 1px solid var(--color-border-control);
            background-color: var(--color-surface-default);
            color: var(--color-text-highlight-default);
            margin-bottom: var(--spacing-16);
        }
        .button:hover {
            background-color: var(--color-surface-highlight);
        }
        .button--primary {
            background-color: var(--color-foundation-primary);
            border-color: var(--color-foundation-primary);
            color: var(--color-text-on-bg-primary);
        }
        .button--primary:hover {
            background-color: var(--color-blue-600);
            border-color: var(--color-blue-600);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Alert Component</h1>
        <p class="body-lg text-gray-600 mb-24">
            Alert components for displaying important information, warnings, errors, and success messages with optional dismiss functionality,
            replicated from the Curative UI design system.
        </p>

        <section class="component-section">
            <h2>Basic Alert Types</h2>
            <div class="alert-container">
                <div class="alert alert--success" tabindex="-1">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-check-circle"></div>
                    </div>
                    <div class="alert__content">
                        <div class="alert__title">This is a success alert</div>
                        <div class="alert__message">Extra text related to the success alert message</div>
                    </div>
                </div>

                <div class="alert alert--warning" tabindex="-1">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-exclamation-circle"></div>
                    </div>
                    <div class="alert__content">
                        <div class="alert__title">This is a warning alert</div>
                        <div class="alert__message">Extra text related to the warning alert message</div>
                    </div>
                </div>

                <div class="alert alert--error" tabindex="-1">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-x-circle"></div>
                    </div>
                    <div class="alert__content">
                        <div class="alert__title">This is an error alert</div>
                        <div class="alert__message">Extra text related to the error alert message</div>
                    </div>
                </div>

                <div class="alert alert--info" tabindex="-1">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-exclamation-circle"></div>
                    </div>
                    <div class="alert__content">
                        <div class="alert__title">This is an info alert</div>
                        <div class="alert__message">Extra text related to the info alert message</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="component-section">
            <h2>Alert Without Message</h2>
            <div class="alert-container">
                <div class="alert alert--success" tabindex="-1">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-check-circle"></div>
                    </div>
                    <div class="alert__content">
                        <div class="alert__title">No message</div>
                    </div>
                </div>

                <div class="alert alert--info" tabindex="-1">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-exclamation-circle"></div>
                    </div>
                    <div class="alert__content">
                        <div class="alert__title">Important notification without additional details</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="component-section">
            <h2>Dismissible Alerts</h2>
            <div class="alert-container">
                <div class="alert alert--error" tabindex="-1">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-x-circle"></div>
                    </div>
                    <div class="alert__content alert__content--with-close">
                        <div class="alert__title">This alert is dismissible</div>
                        <div class="alert__message">Click the X button in the top right corner to dismiss this alert.</div>
                    </div>
                    <button class="alert__close-button" type="button" aria-label="Close Alert">
                        <div class="heroicon heroicon-24 heroicon-x-mark"></div>
                        <span class="alert__sr-only">Close Alert</span>
                    </button>
                </div>

                <div class="alert alert--warning" tabindex="-1">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-exclamation-circle"></div>
                    </div>
                    <div class="alert__content alert__content--with-close">
                        <div class="alert__title">Temporary warning</div>
                        <div class="alert__message">This warning can be dismissed when you've read it.</div>
                    </div>
                    <button class="alert__close-button" type="button" aria-label="Dismiss warning">
                        <div class="heroicon heroicon-24 heroicon-x-mark"></div>
                        <span class="alert__sr-only">Dismiss warning</span>
                    </button>
                </div>

                <div class="alert alert--success" tabindex="-1">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-check-circle"></div>
                    </div>
                    <div class="alert__content alert__content--with-close">
                        <div class="alert__title">Success notification</div>
                        <div class="alert__message">Your action was completed successfully. You can dismiss this notification.</div>
                    </div>
                    <button class="alert__close-button" type="button" aria-label="Dismiss notification">
                        <div class="heroicon heroicon-24 heroicon-x-mark"></div>
                        <span class="alert__sr-only">Dismiss notification</span>
                    </button>
                </div>
            </div>
        </section>

        <section class="component-section">
            <h2>Interactive Alert Demo</h2>
            <h3>Toggle Alert Visibility</h3>
            <button class="button button--primary" id="toggleAlert">Toggle Alert</button>
            <div id="dynamicAlertContainer" style="margin-top: 16px;"></div>
        </section>

        <section class="component-section">
            <h2>Alert with Rich Content</h2>
            <div class="alert-container">
                <div class="alert alert--info" tabindex="-1">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-exclamation-circle"></div>
                    </div>
                    <div class="alert__content">
                        <div class="alert__title">Important Update Available</div>
                        <div class="alert__message">
                            A new version of the application is available. 
                            <span class="alert__message-bold">Version 2.1.0</span> includes important security updates and new features. 
                            <a href="#" class="alert__message-link">View changelog</a> or 
                            <a href="#" class="alert__message-link">update now</a>.
                        </div>
                    </div>
                </div>

                <div class="alert alert--warning" tabindex="-1">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-exclamation-circle"></div>
                    </div>
                    <div class="alert__content alert__content--with-close">
                        <div class="alert__title">Account Verification Required</div>
                        <div class="alert__message">
                            Your account requires verification to continue using all features. 
                            <span class="alert__message-bold">Action required:</span> 
                            Please check your email and follow the verification link. 
                            <a href="#" class="alert__message-link">Resend verification email</a>.
                        </div>
                    </div>
                    <button class="alert__close-button" type="button" aria-label="Dismiss verification notice">
                        <div class="heroicon heroicon-24 heroicon-x-mark"></div>
                        <span class="alert__sr-only">Dismiss verification notice</span>
                    </button>
                </div>
            </div>
        </section>

        <section class="component-section">
            <h2>Alert Styling Variants</h2>
            <div class="alert-container">
                <div class="alert alert--success alert--rounded">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-check-circle"></div>
                    </div>
                    <div class="alert__content">
                        <div class="alert__title">Rounded Alert</div>
                        <div class="alert__message">This alert has rounded corners for a softer appearance.</div>
                    </div>
                </div>

                <div class="alert alert--info alert--shadow">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-exclamation-circle"></div>
                    </div>
                    <div class="alert__content">
                        <div class="alert__title">Alert with Shadow</div>
                        <div class="alert__message">This alert has a subtle shadow effect for depth.</div>
                    </div>
                </div>

                <div class="alert alert--error alert--bordered">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-x-circle"></div>
                    </div>
                    <div class="alert__content">
                        <div class="alert__title">Bordered Alert</div>
                        <div class="alert__message">This alert has borders on all sides in addition to the top border.</div>
                    </div>
                </div>

                <div class="alert alert--warning alert--compact">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-exclamation-circle"></div>
                    </div>
                    <div class="alert__content">
                        <div class="alert__title">Compact Alert</div>
                        <div class="alert__message">This alert uses reduced padding for a more compact appearance.</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="component-section">
            <h2>Alert States</h2>
            <div class="alert-container">
                <div class="alert alert--success alert--animated">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-check-circle"></div>
                    </div>
                    <div class="alert__content">
                        <div class="alert__title">Animated Entry</div>
                        <div class="alert__message">This alert slides in with animation when it appears.</div>
                    </div>
                </div>

                <div class="alert alert--info alert--loading">
                    <div class="alert__icon">
                        <div class="heroicon heroicon-24 heroicon-exclamation-circle"></div>
                    </div>
                    <div class="alert__content">
                        <div class="alert__title">Processing</div>
                        <div class="alert__message">This alert shows a loading animation effect.</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="component-section">
            <h2>Focus Management Demo</h2>
            <p class="mb-24">Click the buttons below to demonstrate alert focus behavior:</p>
            
            <button class="button" id="showFocusableAlert">Show Focusable Alert</button>
            <button class="button" id="showFocusableDismissible">Show Focusable Dismissible Alert</button>
            
            <div id="focusAlertContainer" style="margin-top: 16px;"></div>
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Handle dismissible alerts
            const dismissButtons = document.querySelectorAll('.alert__close-button');
            dismissButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const alert = button.closest('.alert');
                    alert.style.opacity = '0';
                    alert.style.transform = 'translateY(-8px)';
                    setTimeout(() => {
                        alert.remove();
                    }, 200);
                });
            });

            // Toggle alert demo
            const toggleButton = document.getElementById('toggleAlert');
            const dynamicContainer = document.getElementById('dynamicAlertContainer');
            let isAlertVisible = false;

            toggleButton.addEventListener('click', () => {
                if (isAlertVisible) {
                    // Remove alert
                    const alert = dynamicContainer.querySelector('.alert');
                    if (alert) {
                        alert.style.opacity = '0';
                        alert.style.transform = 'translateY(-8px)';
                        setTimeout(() => {
                            dynamicContainer.innerHTML = '';
                            isAlertVisible = false;
                            toggleButton.textContent = 'Show Alert';
                        }, 200);
                    }
                } else {
                    // Add alert
                    dynamicContainer.innerHTML = `
                        <div class="alert alert--success alert--animated" tabindex="-1">
                            <div class="alert__icon">
                                <div class="heroicon heroicon-24 heroicon-check-circle"></div>
                            </div>
                            <div class="alert__content alert__content--with-close">
                                <div class="alert__title">Dynamic Alert</div>
                                <div class="alert__message">This alert was created dynamically and can be dismissed.</div>
                            </div>
                            <button class="alert__close-button" type="button" aria-label="Close dynamic alert">
                                <div class="heroicon heroicon-24 heroicon-x-mark"></div>
                                <span class="alert__sr-only">Close dynamic alert</span>
                            </button>
                        </div>
                    `;
                    
                    // Add dismiss handler to new alert
                    const newAlert = dynamicContainer.querySelector('.alert');
                    const newDismissButton = newAlert.querySelector('.alert__close-button');
                    newDismissButton.addEventListener('click', () => {
                        newAlert.style.opacity = '0';
                        newAlert.style.transform = 'translateY(-8px)';
                        setTimeout(() => {
                            dynamicContainer.innerHTML = '';
                            isAlertVisible = false;
                            toggleButton.textContent = 'Show Alert';
                        }, 200);
                    });
                    
                    isAlertVisible = true;
                    toggleButton.textContent = 'Hide Alert';
                }
            });

            // Focus management demos
            const showFocusableButton = document.getElementById('showFocusableAlert');
            const showFocusableDismissibleButton = document.getElementById('showFocusableDismissible');
            const focusContainer = document.getElementById('focusAlertContainer');

            showFocusableButton.addEventListener('click', () => {
                focusContainer.innerHTML = `
                    <div class="alert alert--success alert--animated" tabindex="-1" role="alert" aria-live="polite">
                        <div class="alert__icon">
                            <div class="heroicon heroicon-24 heroicon-check-circle"></div>
                        </div>
                        <div class="alert__content">
                            <div class="alert__title">This alert received focus</div>
                            <div class="alert__message">When this alert appeared, it received keyboard focus automatically.</div>
                        </div>
                    </div>
                `;
                
                // Focus the alert
                const alert = focusContainer.querySelector('.alert');
                setTimeout(() => {
                    alert.focus();
                }, 100);

                // Auto-remove after 5 seconds
                setTimeout(() => {
                    if (alert.parentNode) {
                        alert.style.opacity = '0';
                        alert.style.transform = 'translateY(-8px)';
                        setTimeout(() => {
                            focusContainer.innerHTML = '';
                        }, 200);
                    }
                }, 5000);
            });

            showFocusableDismissibleButton.addEventListener('click', () => {
                focusContainer.innerHTML = `
                    <div class="alert alert--info alert--animated" tabindex="-1" role="alert" aria-live="polite">
                        <div class="alert__icon">
                            <div class="heroicon heroicon-24 heroicon-exclamation-circle"></div>
                        </div>
                        <div class="alert__content alert__content--with-close">
                            <div class="alert__title">This alert received focus</div>
                            <div class="alert__message">When this alert appeared, the close button received keyboard focus automatically.</div>
                        </div>
                        <button class="alert__close-button" type="button" aria-label="Close focusable alert">
                            <div class="heroicon heroicon-24 heroicon-x-mark"></div>
                            <span class="alert__sr-only">Close focusable alert</span>
                        </button>
                    </div>
                `;
                
                // Focus the close button
                const alert = focusContainer.querySelector('.alert');
                const closeButton = alert.querySelector('.alert__close-button');
                
                setTimeout(() => {
                    closeButton.focus();
                }, 100);

                // Add close handler
                closeButton.addEventListener('click', () => {
                    alert.style.opacity = '0';
                    alert.style.transform = 'translateY(-8px)';
                    setTimeout(() => {
                        focusContainer.innerHTML = '';
                    }, 200);
                });
            });

            // Handle link clicks in alerts
            const alertLinks = document.querySelectorAll('.alert__message-link');
            alertLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    console.log('Alert link clicked:', link.textContent);
                    // In a real application, this would navigate or perform an action
                });
            });

            // Keyboard navigation for alerts
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    // Close any visible dismissible alerts when pressing Escape
                    const visibleAlerts = document.querySelectorAll('.alert .alert__close-button');
                    visibleAlerts.forEach(button => {
                        const alert = button.closest('.alert');
                        if (alert === document.activeElement || alert.contains(document.activeElement)) {
                            button.click();
                        }
                    });
                }
            });
        });
    </script>
</body>
</html>
