<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex,nofollow">
    <title>Accordion Component - Swage.CSS</title>
    <link rel="stylesheet" href="../../swage.css">
    <link rel="stylesheet" href="../../demo.css">
</head>
<body>
    <div class="container">
        <h1>Accordion Component</h1>
        <p class="body-lg text-gray-600 mb-24">
            The Accordion component provides collapsible content sections with toggle functionality, 
            exactly as implemented in the Curative UI design system using Headless UI Disclosure.
        </p>

        <section class="component-section">
            <h2>Default Accordion</h2>
            <p class="mb-24">Basic accordion with multiple collapsible items, matching the Default story from Curative UI.</p>
            
            <!-- Default Accordion - Matches Curative UI Default Story -->
            <div class="accordion demo-accordion" data-testid="default-accordion">
                <!-- Accordion Item 1 -->
                <div class="accordion__item" data-testid="accordion-item-1">
                    <button class="accordion__toggle" data-testid="accordion-item-1_toggle-accordion" aria-expanded="false">
                        <div class="accordion__toggle-content">
                            <span class="accordion__toggle-icon">
                                <span class="heroicon heroicon-16 heroicon-chevron-right"></span>
                            </span>
                            <span class="accordion__toggle-text">Accordion item 1</span>
                        </div>
                    </button>
                    <div class="accordion__panel accordion__panel--hidden" data-testid="accordion-item-1_panel-content">
                        <div class="accordion__panel-content">
                            This is accordion item 1 content.
                        </div>
                    </div>
                </div>

                <!-- Accordion Item 2 -->
                <div class="accordion__item" data-testid="accordion-item-2">
                    <button class="accordion__toggle" data-testid="accordion-item-2_toggle-accordion" aria-expanded="false">
                        <div class="accordion__toggle-content">
                            <span class="accordion__toggle-icon">
                                <span class="heroicon heroicon-16 heroicon-chevron-right"></span>
                            </span>
                            <span class="accordion__toggle-text">Accordion item 2</span>
                        </div>
                    </button>
                    <div class="accordion__panel accordion__panel--hidden" data-testid="accordion-item-2_panel-content">
                        <div class="accordion__panel-content">
                            This is accordion item 2 content.
                        </div>
                    </div>
                </div>

                <!-- Accordion Item 3 -->
                <div class="accordion__item" data-testid="accordion-item-3">
                    <button class="accordion__toggle" data-testid="accordion-item-3_toggle-accordion" aria-expanded="false">
                        <div class="accordion__toggle-content">
                            <span class="accordion__toggle-icon">
                                <span class="heroicon heroicon-16 heroicon-chevron-right"></span>
                            </span>
                            <span class="accordion__toggle-text">Accordion item 3</span>
                        </div>
                    </button>
                    <div class="accordion__panel accordion__panel--hidden" data-testid="accordion-item-3_panel-content">
                        <div class="accordion__panel-content">
                            This is accordion item 3 content.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="component-section">
            <h2>Accordion with Default Open Item</h2>
            <p class="mb-24">Accordion demonstrating the defaultOpen prop functionality.</p>
            
            <!-- Accordion with Default Open -->
            <div class="accordion demo-accordion" data-testid="default-open-accordion">
                <!-- Accordion Item 1 - Default Open -->
                <div class="accordion__item accordion__item--open" data-testid="default-open-item-1">
                    <button class="accordion__toggle" data-testid="default-open-item-1_toggle-accordion" aria-expanded="true">
                        <div class="accordion__toggle-content">
                            <span class="accordion__toggle-icon">
                                <span class="heroicon heroicon-16 heroicon-chevron-down"></span>
                            </span>
                            <span class="accordion__toggle-text">Default Open Item</span>
                        </div>
                    </button>
                    <div class="accordion__panel accordion__panel--visible" data-testid="default-open-item-1_panel-content">
                        <div class="accordion__panel-content">
                            This accordion item is open by default, demonstrating the defaultOpen prop behavior from the Curative UI Accordion component.
                        </div>
                    </div>
                </div>

                <!-- Accordion Item 2 -->
                <div class="accordion__item" data-testid="default-open-item-2">
                    <button class="accordion__toggle" data-testid="default-open-item-2_toggle-accordion" aria-expanded="false">
                        <div class="accordion__toggle-content">
                            <span class="accordion__toggle-icon">
                                <span class="heroicon heroicon-16 heroicon-chevron-right"></span>
                            </span>
                            <span class="accordion__toggle-text">Regular Item</span>
                        </div>
                    </button>
                    <div class="accordion__panel accordion__panel--hidden" data-testid="default-open-item-2_panel-content">
                        <div class="accordion__panel-content">
                            This is a regular accordion item that starts closed.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="component-section">
            <h2>Rich Content Accordion</h2>
            <p class="mb-24">Accordion items with more complex content including lists, links, and formatted text.</p>
            
            <!-- Rich Content Accordion -->
            <div class="accordion demo-accordion" data-testid="rich-content-accordion">
                <!-- Features Item -->
                <div class="accordion__item" data-testid="features-item">
                    <button class="accordion__toggle" data-testid="features-item_toggle-accordion" aria-expanded="false">
                        <div class="accordion__toggle-content">
                            <span class="accordion__toggle-icon">
                                <span class="heroicon heroicon-16 heroicon-chevron-right"></span>
                            </span>
                            <span class="accordion__toggle-text">Features & Benefits</span>
                        </div>
                    </button>
                    <div class="accordion__panel accordion__panel--hidden" data-testid="features-item_panel-content">
                        <div class="accordion__panel-content">
                            <ul class="list-style">
                                <li>Easy-to-use collapsible content sections</li>
                                <li>Smooth animations and transitions</li>
                                <li>Accessible keyboard navigation</li>
                                <li>Screen reader compatibility</li>
                                <li>Consistent with Curative UI design system</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Technical Details Item -->
                <div class="accordion__item" data-testid="technical-item">
                    <button class="accordion__toggle" data-testid="technical-item_toggle-accordion" aria-expanded="false">
                        <div class="accordion__toggle-content">
                            <span class="accordion__toggle-icon">
                                <span class="heroicon heroicon-16 heroicon-chevron-right"></span>
                            </span>
                            <span class="accordion__toggle-text">Technical Implementation</span>
                        </div>
                    </button>
                    <div class="accordion__panel accordion__panel--hidden" data-testid="technical-item_panel-content">
                        <div class="accordion__panel-content">
                            <p class="bottom-margin">This component is built using:</p>
                            <ul class="list-style-nested">
                                <li><strong>Vanilla JavaScript</strong> for interaction handling</li>
                                <li><strong>CSS transitions</strong> for smooth animations</li>
                                <li><strong>Heroicons</strong> for chevron indicators</li>
                                <li><strong>Foundation CSS variables</strong> for consistent styling</li>
                            </ul>
                            <p class="top-margin">
                                Based on the <a href="#" class="primary-link">Curative UI Accordion component</a> 
                                which uses Headless UI Disclosure primitives.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="component-section">
            <h2>Usage</h2>
            <p class="mb-24">How to implement the Accordion component with the exact Curative UI structure.</p>
            
            <h3>Props Interface</h3>
            <div class="code-block">
export type AccordionProps = {
  className?: string;
  accordionItems: AccordionItemDescriptor[];
  defaultOpen?: boolean;
};

export type AccordionItemDescriptor = AccordionItemProps & {
  key: string;
};

export type AccordionItemProps = {
  summaryContent: ReactNode;
  panelContent: ReactNode;
  onButtonClick?: () => void;
  testid?: string;
  defaultOpen?: boolean;
};
            </div>

            <h3>HTML Structure</h3>
            <div class="code-block">
&lt;div class="accordion"&gt;
  &lt;div class="accordion__item"&gt;
    &lt;button class="accordion__toggle" aria-expanded="false"&gt;
      &lt;div class="accordion__toggle-content"&gt;
        &lt;span class="accordion__toggle-icon"&gt;
          &lt;span class="heroicon heroicon-16 heroicon-chevron-right"&gt;&lt;/span&gt;
        &lt;/span&gt;
        &lt;span class="accordion__toggle-text"&gt;Summary Content&lt;/span&gt;
      &lt;/div&gt;
    &lt;/button&gt;
    &lt;div class="accordion__panel accordion__panel--hidden"&gt;
      &lt;div class="accordion__panel-content"&gt;
        Panel content goes here
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
            </div>

            <h3>Tailwind Class Mappings</h3>
            <div class="code-block">
/* Base Structure */
.accordion__item {
  /* w-full border-l-4 bg-white py-4 pl-3 pr-4 */
  width: 100%;
  border-left: 4px solid var(--color-surface-default);
  background-color: var(--color-surface-default);
  padding: var(--spacing-16) var(--spacing-16) var(--spacing-16) var(--spacing-12);
}

/* Open State */
.accordion__item--open {
  /* border-l-foundation-primary */
  border-left-color: var(--color-foundation-primary);
}

/* Toggle Content */
.accordion__toggle-content {
  /* flex items-center */
  display: flex;
  align-items: center;
}

/* Icon Size */
.accordion__toggle-icon {
  /* SpacingVariant.S16 = h-4 w-4 */
  width: var(--spacing-16);
  height: var(--spacing-16);
}

/* Text Spacing */
.accordion__toggle-text {
  /* ml-2 font-semibold */
  margin-left: var(--spacing-8);
  font-weight: var(--font-weight-semibold);
}

/* Panel Text Color */
.accordion__panel {
  /* text-textColor-default */
  color: var(--color-text-default);
}
            </div>

            <h3>Icon Behavior</h3>
            <div class="code-block">
/* Closed State: IconVariant.CHEVRON_RIGHT */
&lt;span class="heroicon heroicon-16 heroicon-chevron-right"&gt;&lt;/span&gt;

/* Open State: IconVariant.CHEVRON_DOWN */
&lt;span class="heroicon heroicon-16 heroicon-chevron-down"&gt;&lt;/span&gt;

/* JavaScript toggles between these two states */
            </div>

            <h3>Accessibility Features</h3>
            <div class="code-block">
/* ARIA Attributes */
aria-expanded="true|false"    // Button expansion state
data-testid="accordion-item"  // Test identification

/* Keyboard Navigation */
- Enter/Space: Toggle accordion item
- Tab: Navigate between accordion buttons
- Focus indicators for keyboard users
            </div>
        </section>
    </div>

    <script src="accordion.js"></script>
    <script>
        // Component demo initialization
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Accordion component demo loaded');
            console.log('Found accordions:', document.querySelectorAll('.accordion').length);
            console.log('Found accordion items:', document.querySelectorAll('.accordion__item').length);
            
            // Expose utility function for demo purposes
            window.toggleAccordionByTestId = function(testId) {
                if (window.AccordionComponent) {
                    window.AccordionComponent.toggleByTestId(testId);
                }
            };
        });
    </script>
</body>
</html>
